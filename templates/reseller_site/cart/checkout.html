{% extends 'admin_site/base.html' %}


{% block content %}

{% if list_cart %}
    
<table class="table table-hover text-center">
        <p class="fw-bolder">Order Summary: ({{ total_item }})</p>
    
    <thead>
        <tr>
            <th>Product Category</th>
            <th>Product Name</th>
            <th>Quantity</th>
            <th>Amount</th>
        </tr>
    </thead>
    <tbody>
        
        {% for list in list_cart %}
        <tr>
            <td>{{ list.pos_category }}</td>
            <td>{{ list.pos_name }}</td>
            <td>{{ list.pos_quantity }}</td>
            <td>{{ list.pos_amount }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
    <div class="text-end px-5">
        <label style="font-weight: bolder;" > Grand Total:    {{ sum_amount.data }} </label>
    </div>
    <br>
    <br>
    <form action="{% url 'reseller_site:checkout' %}" method="POST">
        {% csrf_token %}
        <input type="hidden" name="total_amount"value="{{ sum_amount.data }}">
        <h1 class="text-center" id="bdetails">Basic Details</h1>
        <label for="" id="fname">First Name</label>
        <input type="text" placeholder="Enter your First Name" class="form-control" name="fname" required>
        <br> 
        <label for="">Last Name</label>
        <input type="text" placeholder="Enter your Last Name" class="form-control" name="lname" required>
        <br> 
        <label for="">Address</label>
        <input type="text" placeholder="Enter your Address" class="form-control" name="address" required>
   
        <br>
        <label for="">contact No</label>
        <input type="text" placeholder="Enter your contact number" class="form-control" name="contact_no" required>

        <br> 
        <label for="" id="doption">Delivery option</label>
        <select  class="form-control" id="option" name="option"  required>
            <option></option>
            <option value="pickup">Pickup</option>
            <option value="delivery">Delivery</option>
        </select>
        <br>

        <!-- wag tatangglim yung div! nakakamamatay -->
        <div id="pdate" style="display: none;">
            <div id="date_deliver">
                <h3 id="h3_date">Preferred Delivery date</h3>
                <input type="date" id="btn_prefer" name="prefer_date">
            </div>
            <br>
            <br>
            <div id="no_specific">
                <h3>No Specific Date</h3>
                <input type="checkbox" id="btn_no_date"  name="specific_date" >
            </div>
        </div>
        <br>
        <br>
        <input type="submit" class="btn btn-success" value="Place Order">

        <br>
        <br>
    </form>
{% endif %}    

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js" integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<script>


    $(document).ready(function () {

        $('#option').on('change', function () {
            var select_value = this.value
            if (select_value == "delivery") {
                // $('#pdate').css("display", "block")
                $('#bdetails').css('color', 'blue').animate({
                    fontSize: '20px'
                })
                $('#h3_date').text('Preferred Delivery date')
                $('#pdate').fadeIn(1000)
                $('#no_specific').fadeIn(1000)
            } else if (select_value == "pickup") {
                $('#bdetails').css('color', 'green')
                $('#h3_date').text('Pickup Date')
                $('#pdate').fadeIn(1000)
                $('#no_specific').fadeOut()
                // $('#pdate').css("display", "none")
            } else if (select_value == "") {
                $('#bdetails').css('color', 'darkViolet')
                $('#pdate').fadeOut(1000)
                // $('#pdate').css("display", "none")
            }

        })

        $('#btn_prefer').on('click', function () {
            $('#no_specific').fadeToggle(1000)
        })

        $('#btn_no_date').on('click', function () {
            $('#date_deliver').fadeToggle(1000)
            $('#btn_prefer').val('')
        })





        //    $('#option').on('change', function(){
        //             var select_value = this.value
        //             if(select_value === "delivery"){
        //                 $('#p_date').css("display","block")
        //             }else if(select_value === "pickup"){
        //                 $('#p_date').css("display","none")
        //             }else if(select_value === ""){
        //                 $('#p_date').css("display","none")
        //         }
        //     }) 

    })



</script>

{% endblock content %}
    